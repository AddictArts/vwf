# Copyright 2014, SRI International
---
properties:
  __initializeStep: -1
  baseServerAddress:
  inventoryServerAddress:
methods:
  processEuiDotJson:
scripts:
- |
  this.initialize = function() {
    if (this.__initializeStep++ == -1) return; // VWF scene is the first initialize call, then our scene component additions are next, so -1, then 0
  };

  this.processEuiDotJson = function(data) {
    this.__initializeStep == 1; // processing the eui config json data is step 1
    console.info(this.id + " begin.eui completed initialize move on to process step " + this.__initializeStep);
    console.info(this.id + " begin.eui process json data:" + JSON.stringify(data));
    this.baseServerAddress = data.baseServerAddress;
    console.info(this.id + ' base server ' + this.baseServerAddress);

    if (this.baseServerAddress != null) {
      this.inventoryServerAddress = data.baseServerAddress + '/inventory'; // GET
      this.objectServerAddress = data.baseServerAddress + '/object'; // POST
      this.queryServerAddress = data.baseServerAddress + '/query'; // POST
      this.activityServerAddress = data.baseServerAddress + '/action'; // POST
      this.assessmentServerAddress = data.baseServerAddress + '/assessment'; // GET

      console.info(this.id + " begin.eui inventoryServerAddress:" + this.inventoryServerAddress);
      console.info(this.id + " begin.eui objectServerAddress:" + this.objectServerAddress);
      console.info(this.id + " begin.eui queryServerAddress:" + this.queryServerAddress);
      console.info(this.id + " begin.eui activityServerAddress:" + this.activityServerAddress);
      console.info(this.id + " begin.eui assessmentServerAddress:" + this.assessmentServerAddress);
    }

    this.__initializeStep = 2;
    console.info(this.id + "begin.eui completed move on to initialize step " + this.__initializeStep);
  };//# sourceURL=begin.eui
