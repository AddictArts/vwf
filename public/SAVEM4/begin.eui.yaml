# Copyright 2014, SRI International
---
properties:
  __initializeStep: -1
  __m4KbId:
methods:
  processEuiDotJson:
scripts:
- |
  this.initialize = function() {
    if (this.__initializeStep++ == -1) return; // VWF scene is the first initialize call, then our scene component additions are next, so -1, then 0
  };

  this.processEuiDotJson = function(data) {
    this.__initializeStep == 1; // processing the eui config json data is step 1
    console.info("begin.eui json data:" + JSON.stringify(data));

    // bootstrap what is in the tray and its KbId
    var rootComponentName = data.toolTrayObjects[0];

    this.__m4KbId = data[rootComponentName];
    console.info("the root vwf component name for the tool tray item is " + rootComponentName);
    console.info("the root vwf component's KbId is " + this.__m4KbId);

    if (this['activityServerAddress'] == null) this.activityServerAddress = data.baseServerAddress + '/action';
    if (this['queryServerAddress'] == null) this.queryServerAddress = data.baseServerAddress + '/query';
    if (this['assessmentServerAddress'] == null) this.assessmentServerAddress = data.baseServerAddress + '/assessment';

    console.info('Servers ' + this.activityServerAddress + ', ' + this.queryServerAddress + ', ' + this.assessmentServerAddress);
    this.__initializeStep = 2;
    console.info("begin.eui completed move on to initialize step " + this.__initializeStep);
  };//# sourceURL=begin.eui
